# 1. 项目背景
客户的购物偏好是基于消费者习惯和购买模式所形成的。通过了解客户偏好和趋势对于企业制定产品、营销策略和客户体验均能提供帮助。

本次将基于客户属性，包括年龄、性别、购买历史、首选支付方式、购买频率等分析这些数据可以帮助企业做出明智的决策，以此来优化产品和提高客户满意度。

# 2.数据说明

| 字段 | 说明 |
| --- | :-: |
| Customer ID | 客户唯一标识符 |
| Age | 客户年龄 |
| Gender | 客户性别(男/女) |
| Item Purchased | 客户购买的商品 |
| Category | 购买商品的类别 |
| Purchase Amount (USD) | 购买金额(美元) |
| Location | 购买地点 |
| Size | 购买商品的尺码 |
| Color | 购买商品的颜色 |
| Season | 购买商品的季节 |
| Review Rating | 客户对购买商品的评分 |
| Subscription Status | 客户是否拥有订阅(是/否) |
| Shipping Type | 客户选择的配送方式 |
| Discount Applied | 是否应用了折扣(是/否) |
| Promo Code Used | 是否使用了优惠码(是/否) |
| Previous Purchases | 客户在该商店的历史购买总数,不包括当前交易 |
| Payment Method | 客户最常用的支付方式 |
| Frequency of Purchases | 客户购买频率(每周、每两周、每月等) |

# 3. 技术栈
Python、Pandas、Numpy、Scikit-learn、matplotlib、seaborn、Scipy

**项目亮点：**

+ 根据多维度对客户信息、商品销售信息进行分析。
+ 基于购买数据、评分数据对客户进行忠诚度分析。
+ 基于矩阵分解模型和SVD方法创建用户画像并基于用户画像对客户进行推荐。

**项目成功：**

+ 成功通过多维度对客户信息进行分析并产生相关结论。
+ 成功实现用户画像建立，并能够通过画像对用户进行客制化商品推荐。
+ 完成报告编写并能够对决策提供一定帮助。


# 4. 结论总结

1. 本项目通过客户基本信息分布得出了：男性客户数量大约是女性客户数量的两倍，客户的年龄分布比较均匀，从18岁到70岁。
2. 通过购物行为分析得出了：衣服的销售总额和订单数量都是最高的，外套的销售总额和订单数量是最低的，鞋类、衣服、配饰三类商品平均消费金额比较接近，在60美元左右，外套的平均消费金额最低，PayPal是最常用的支付方式，其次是信用卡和现金，最少的支付方式是银行转账，蒙大拿州（Montana）的销售总额和订单数量是最高的，堪萨斯州（Kansas）的销售总额和订单数量是最低的，秋季（Fall）有着最高的销售金额，春季（Spring）有着最高的订单数量，夏季（Summer）的销售金额和订单数量都是最低的，使用折扣的订单平均消费金额略小于未使用折扣的订单平均销售金额，未使用折扣的订单数量大于使用折扣的订单数量。
3. 通过商品销售情况分析得出了：在配饰（Accessories）中，订单数量最多且销售总额最高的商品是珠宝（Jewelry），在衣服（Clothing）中，订单数量最多且销售总额最高的商品是（女式）短上衣（Blouse），在鞋类（Footwear）中，订单数量最多的商品是凉鞋（Sandals），销售总额最高的商品是鞋（Shoes），在外套（Outerwear）中，夹克（Jacket）和外套（Coat）二者相差不大，所有商品的平均消费金额都在56-63美元之间，相差不是很大，只是外套的平均消费金额均小于60美元。
4. 通过客户忠诚度分析得出了：客户的购买频率分布相对均衡，没有明显的主导趋势，大多数客户的历史购买总数集中在25附近，评分集中在2.5到5之间，表明大多数客户对购买的商品感到满意，没有出现1分这种极端情况，拥有订阅的客户和没有订阅的客户在评分分布上没有明显差异，然后对评分大于等于4的客户视为高评分客户，给出高评分的客户在购买频率和购买金额上没有明显的特殊趋势，给出高评分的客户主要购买服装和配饰类别的商品，大多数给出高评分的客户没有订阅服务，给出高评分的客户分布在各个地区，没有明显集中在特定地区。
5. 通过使用SVD方法建立商品推荐系统，对客户1、客户15、客户20和客户25进行测试，给'1'号客户推荐(女式)短上衣（Blouse），给'15'号客户推荐外套（Coat）、袜子（Socks）和男士衬衣（Shirt），给'20'号客户推荐裤子（Pants），给'25'号客户推荐夹克（Jacket）。同时经过随机数检验也是可行的。

# 4. 遇到问题

在使用SVD进行分解时出现报错

```python
TypeError                                 Traceback (most recent call last)
Cell In[149], line 11
      8 rating_matrix_normalized = rating_matrix - user_ratings_mean.values.reshape(-1, 1)
     10 # 进行SVD
---> 11 U, sigma, Vt = svds(rating_matrix_normalized, k=10)
     13 # 将sigma从向量转换为对角矩阵
     14 sigma = np.diag(sigma)
TypeError: type not understood
```

这其实就是我们的输入类型不符合，但是理论上原始代码是可以成功的，保险起见我们引入了csr_matrix进行转化，将评分矩阵转化为稀疏矩阵。



